<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Road to IM 70.3 Đà Nẵng</title>
  <link rel="icon" href="https://img.upanh.tv/2025/04/11/download.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;700&display=swap" rel="stylesheet">
  <meta property="og:title" content="Road to IM 70.3 Đà Nẵng" />
  <meta property="og:description" content="Lịch tập 4 tuần cuối chuẩn bị cho IM 70.3 Đà Nẵng" />
  <meta property="og:image" content="https://irace.vn/wp-content/uploads/2019/08/ironman-70.3-1.jpg" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Road to IM 70.3 Đà Nẵng" />
  <meta name="twitter:description" content="Lịch tập 4 tuần cuối chuẩn bị cho IM 70.3 Đà Nẵng" />
  <meta name="twitter:image" content="https://irace.vn/wp-content/uploads/2019/08/ironman-70.3-1.jpg" />
  <style>
    body {
      min-height: 100vh;
  max-height: 100vh;
  overflow-y: auto;
  
  display: flex;
  align-items: center;
  justify-content: center;
      margin: 0;
      font-family: 'Barlow Condensed', sans-serif;
      background: #000;
      color: #fff;
      background-image: url('https://www.ironman.com/themes/custom/ironman_subtheme/images/bg-texture.jpg');
      background-size: cover;
      padding: 20px;
    }
    .container {
        height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
      max-width: 800px;
      margin: auto;
      background-color: rgba(0, 0, 0, 0.85);
      padding: 20px;
      border-radius: 8px;
    }
    .title {
      text-align: center;
      font-size: clamp(30px, 5vw, 40px);
      font-weight: 700;
      margin-bottom: 10px;
      color: #e10600;
      text-transform: uppercase;
    }
    .subtitle {
      text-align: center;
      font-size: 16px;
      color: #ccc;
      margin-bottom: 30px;
    }
    .countdown-box {
         font-size: clamp(16px, 4vw, 24px);
  padding: clamp(10px, 4vw, 20px);
      background: #e10600;
      color: #fff;
       max-width: 700px;
      font-size: 24px;
      text-align: center;
      font-weight: bold;
      padding: 20px;
      border-radius: 4px;
      margin: 0 auto 30px auto;
      box-shadow: 0 0 20px #e10600aa;
    }
    .section {
         flex-grow: 1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
      background: #111;
      padding: 30px;
      border-radius: 4px;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
      margin-bottom: 30px;
    }
    .section h2 {
      font-size: 22px;
      text-align: center;
      margin-bottom: 20px;
      color: #fff;
    }
    .today-box {
        font-size: clamp(16px, 4vw, 24px);
  padding: clamp(10px, 4vw, 20px);
      background: #1a1a1a;
      padding: 20px;
      font-size: 18px;
      border-left: 5px solid #e10600;
      margin-bottom: 30px;
    }
    .upcoming-item {
  background: #222;
  margin: 10px 0;
  border-left: 5px solid #e10600;
  font-size: 16px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.4s ease;
  max-height: 60px;
  display: block;
  padding: 15px 20px;
  position: relative;
}

.upcoming-item div {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  transition: all 0.3s ease;
}

.upcoming-item.expanded {
  max-height: 300px; /* đủ để hiện nội dung đầy đủ */
  background: #333;
  padding: 20px;
}

.upcoming-item.expanded div {
  white-space: normal;
  text-overflow: unset;
}

      
    }
    .upcoming-item:hover {
      background: #333;
      transform: translateX(5px);
    }
    .rainbow-bg {
      background: linear-gradient(90deg, #e10600, #ff4500);
      color: #fff;
      font-weight: bold;
      animation: pulse 1.5s infinite;
    }
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.75; }
      100% { opacity: 1; }
    }
    #upcoming {
          flex-grow: 1;
  overflow-y: auto;
  scrollbar-width: none;
      max-height: 300px;
      overflow-y: auto; overflow-y: auto;
  overflow-x: hidden;
  scrollbar-width: none; /* Firefox */
}
#upcoming::-webkit-scrollbar {
  display: none; /* Chrome, Safari */
    }
    :root {
      --swim: #1e3c72;
      --run: #14532d;
      --bike: #92400e;
      --rest: #444;
      --brick: linear-gradient(to right, #1e3c72, #92400e, #14532d);
      --race: #e10600;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="title">🏁 Road to IM 70.3 Đà Nẵng</div>
    <div class="subtitle">by @dtt267, for beginner with sub7 goal</div>
    <div id="countdown" class="countdown-box">Đang tải...</div>
    <div id="today" class="today-box">Đang tải...</div>
    <div class="section">
      <h2>Lịch tập sắp tới:</h2>
      <div id="upcoming"></div>
    </div>
  </div>
  <script>
    const schedule = [
      "2025-04-11|🏊 1.6km kỹ thuật + core 15’ (~50')", "2025-04-12|🚴 75–85km + 🏃 5km brick (~3h30')", "2025-04-13|🏃 Long run 10km @6:00/km (~1h)", "2025-04-08|🏊 1.6km kỹ thuật + core 15’ (~50')", "2025-04-14|🏊 1.6km kỹ thuật + core 15’ (~50')", "2025-04-15|🏃 Tempo 8km @5:25/km (~45')", "2025-04-16|🏊 2.0km endurance (~55')", "2025-04-17|🚴 1h15 Z2 + intervals (~75')", "2025-04-18|🏊 1.5km nhẹ + pick-up (~45')", "2025-04-19|❌ Nghỉ", "2025-04-20|🏊 + 🚴 + 🏃 race sim @VNTC (~4h–4h30')", "2025-04-21|🏊 1.6km kỹ thuật + core 20’ (~55')", "2025-04-22|🏃 6×800m intervals (~50')", "2025-04-23|🏊 2.2km steady pace (~60')", "2025-04-24|🚴 1h20 Z2 + sweet spot (~80')", "2025-04-25|🏊 1.4km + sprint drill (~40')", "2025-04-26|🚴 75–85km + 🏃 5km brick (~3h30')", "2025-04-27|❌ Nghỉ", "2025-04-28|🏊 1.2km nhẹ + giãn cơ (~40')", "2025-04-29|🏃 Tempo 6km @pace đua (~35')", "2025-04-30|🏊 1.5km nhẹ + drill (~45')", "2025-05-01|🚴 1h Z2 + burst (~60')", "2025-05-02|🏊 1.5km steady pace (~45')", "2025-05-03|🚴 50km + 🏃 5km brick (~2h30')", "2025-05-04|🏃 Easy run 6–8km (~45')", "2025-05-05|🏊 1.2km nhẹ kỹ thuật (~35')", "2025-05-06|🏃 5km nhẹ + strides (~35')", "2025-05-07|🏊 800m + 4×50m pick-up (~30')", "2025-05-08|🚴 45' nhẹ Z2 (~45')", "2025-05-09|❌ Nghỉ", "2025-05-10|🗿 RACE DAY – Ironman 70.3", "2025-05-11|🛌 Nghỉ hoặc đi bộ nhẹ (~20')",
    ];

    const weekdays = ["CN", "Thứ 2", "Thứ 3", "Thứ 4", "Thứ 5", "Thứ 6", "Thứ 7"];
    const colors = {
      swim: "var(--swim)",
      run: "var(--run)",
      bike: "var(--bike)",
      rest: "var(--rest)",
      brick: "var(--brick)",
      race: "var(--race)",
    };

    function getColor(workout) {
      if (workout.includes("race sim") || workout.includes("brick")) return colors.brick;
      if (workout.includes("❌") || workout.includes("🛌")) return colors.rest;
      if (workout.includes("RACE DAY")) return colors.race;
      if (workout.includes("🏊")) return colors.swim;
      if (workout.includes("🚴")) return colors.bike;
      if (workout.includes("🏃")) return colors.run;
      return "#333";
    }

    function updateCountdown() {
      const now = new Date();
      const raceDay = new Date("2025-05-10T00:00:00");
      const diff = raceDay - now;
      const cd = document.getElementById("countdown");
      if (diff <= 0) {
        cd.textContent = "🔥 Có finish không?";
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const mins = Math.floor((diff / (1000 * 60)) % 60);
      const secs = Math.floor((diff / 1000) % 60);
      cd.textContent = `${days}d : ${hours}h : ${mins}m : ${secs}s`;
    }

    function loadToday() {
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      const box = document.getElementById("today");

      let found = false;
      for (let line of schedule) {
        const [dateStr, workout] = line.split("|");
        const date = new Date(dateStr);
        date.setHours(0, 0, 0, 0);

        if (date.getTime() === today.getTime()) {
          box.innerHTML = `<strong>Hôm nay </strong>(${date.getDate()}/${date.getMonth() + 1}): <br><br> ${workout}`;
          box.style.background = getColor(workout);
          found = true;
          break;
        }
      }

      if (!found) {
        box.innerHTML = `<strong>Hôm nay:</strong><br>Không có lịch tập!`;
        box.style.background = colors.rest;
      }
    }

    function loadUpcoming() {
      const container = document.getElementById("upcoming");
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      for (let line of schedule) {
        const [dateStr, workout] = line.split("|");
        const date = new Date(dateStr);
        if (date >= today) {
          const div = document.createElement("div");
          div.className = "upcoming-item";
          const dow = weekdays[date.getDay()];
          div.style.background = getColor(workout);
          div.innerHTML = `<div><strong>${dow}</strong> -  ${date.getDate()}/${date.getMonth() + 1}</div><div>${workout}</div>`;
          if (workout.includes("RACE DAY")) div.classList.add("rainbow-bg");
          container.appendChild(div);
          
          div.addEventListener("click", function () {
  this.classList.toggle("expanded");
});

        }
      }
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);
    loadToday();
    loadUpcoming();
  </script>
</body>
</html>
